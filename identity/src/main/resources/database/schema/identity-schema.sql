CREATE TABLE IF NOT EXISTS users(
    -- USER_ID  INTEGER NOT NULL AUTO_INCREMENT,
    user_id  INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    user_uuid VARCHAR(36) NOT NULL,
    user_name VARCHAR(128) NOT NULL,
    email VARCHAR(128) NOT NULL,
    encrypted_password VARCHAR(128) NOT NULL,
    PRIMARY KEY (USER_ID)
);

CREATE TABLE IF NOT EXISTS IDENTITY_OUTBOX_EVENTS (
  -- STORED_EVENT_ID INTEGER NOT NULL AUTO_INCREMENT,
  stored_event_id INTEGER NOT NULL GENERATED BY DEFAULT AS IDENTITY,
  event_id VARCHAR(36) NOT NULL,
  event_aggregate_id VARCHAR(128) NOT NULL,
  event_timestamp BIGINT NOT NULL,
  event_type VARCHAR(255) NOT NULL,
  event_payload TEXT NOT NULL,
  PRIMARY KEY (stored_event_id)
);

-- TODO Create index